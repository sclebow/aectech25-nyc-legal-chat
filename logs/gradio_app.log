{"asctime": "2025-05-25 16:14:02,250", "levelname": "INFO", "name": "app_logger", "message": "", "timestamp": "2025-05-25 16:13:48", "prompt": "What is the typical cost per sqft for structural steel options?  Let's assume a four-story apartment building.  Make assumptions on the loading.", "mode": "cloudflare", "text_generation_model": "@cf/meta/llama-3.3-70b-instruct-fp8-fast", "embedding_model": "@cf/baai/bge-base-en-v1.5", "rag_state": "LLM only", "output": "**RSMeans Data:**\n\n| Masterformat Section Code   | Section Name              | Name                                                                     | Unit   | Total Incl O&P   |\n|:----------------------------|:--------------------------|:-------------------------------------------------------------------------|:-------|:-----------------|\n| 05 12 23.77                 | Structural Steel Projects | STRUCTURAL STEEL PROJECTS                                                | nan    | nan              |\n| 05 12 23.77                 | Structural Steel Projects | Made from recycled materials                                             | nan    | nan              |\n| 05 12 23.77                 | Structural Steel Projects | Shop fab'd for 100 ton, 1-2 story project, bolted connections            | nan    | nan              |\n| 05 12 23.77                 | Structural Steel Projects | Apartments, nursing homes, etc., 1 to 2 stories R050523-10               | Ton    | 4,625            |\n| 05 12 23.77                 | Structural Steel Projects | 3 to 6 stories                                                           | nan    | 4,700            |\n| 05 12 23.77                 | Structural Steel Projects | 7 to 15 stories R051223-10                                               | nan    | 4,825            |\n| 05 12 23.77                 | Structural Steel Projects | Over 15 stories                                                          | nan    | 5,000            |\n| 05 12 23.77                 | Structural Steel Projects | Offices, hospitals, etc., steel bearing, 1 to 2 stories R051223-20       | nan    | 4,625            |\n| 05 12 23.77                 | Structural Steel Projects | 3 to 6 stories                                                           | nan    | 4,725            |\n| 05 12 23.77                 | Structural Steel Projects | 7 to 15 stories R051223-25                                               | Ton    | 4,825            |\n| 05 12 23.77                 | Structural Steel Projects | Over 15 stories                                                          | nan    | 5,000            |\n| 05 12 23.77                 | Structural Steel Projects | For multi-story masonry wall bearing construction, add R051223-30        | nan    | nan              |\n| 05 12 23.77                 | Structural Steel Projects | Industrial bldgs., 1 story, beams & girders, steel bearing               | nan    | 4,400            |\n| 05 12 23.77                 | Structural Steel Projects | Masonry bearing                                                          | Ton    | 4,650            |\n| 05 12 23.77                 | Structural Steel Projects | Industrial bldgs., 1 story, under 10 tons, steel from warehouse, trucked | Ton    | 5,400            |\n| 05 12 23.77                 | Structural Steel Projects | 1 story with roof trusses, steel bearing                                 | nan    | 5,225            |\n| 05 12 23.77                 | Structural Steel Projects | Masonry bearing                                                          | nan    | 5,500            |\n| 05 12 23.77                 | Structural Steel Projects | Monumental structures, banks, stores, etc., simple connections           | nan    | 4,775            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 7,675            |\n| 05 12 23.77                 | Structural Steel Projects | Churches, simple connections                                             | nan    | 4,250            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 6,475            |\n| 05 12 23.77                 | Structural Steel Projects | Power stations, fossil fuels, simple connections                         | nan    | 5,000            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 8,100            |\n| 05 12 23.77                 | Structural Steel Projects | Nuclear fuels, non safety steel, simple connections                      | nan    | 5,775            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 8,175            |\n| 05 12 23.77                 | Structural Steel Projects | Safety steel, simple connections                                         | nan    | 11,400           |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 17,100           |\n| 05 12 23.77                 | Structural Steel Projects | Roof trusses, simple connections                                         | nan    | 5,850            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 7,375            |\n| 05 12 23.77                 | Structural Steel Projects | Schools, simple connections                                              | nan    | 4,325            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 6,500            |\n| 05 12 23.77                 | Structural Steel Projects | Welded construction, simple commercial bldgs., 1 to 2 stories            | nan    | 5,075            |\n| 05 12 23.77                 | Structural Steel Projects | 7 to 15 stories                                                          | nan    | 6,125            |\n| 05 12 23.77                 | Structural Steel Projects | Welded rigid frame, 1 story, simple connections                          | nan    | 4,425            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 6,775            |\n| 05 12 23.77                 | Structural Steel Projects | High strength steel mill spec extras:                                    | nan    | nan              |\n| 05 12 23.77                 | Structural Steel Projects | A529, A572 (50 ksi) and A36: same as A992 steel (no extra)               | nan    | nan              |\n| 05 12 23.77                 | Structural Steel Projects | Add to A992 price for A572 (60, 65 ksi)                                  | Ton    | 110              |\n| 05 12 23.77                 | Structural Steel Projects | Column base plates, light, up to 150 lb.                                 | Lb.    | 2.7              |\n| 05 12 23.77                 | Structural Steel Projects | Heavy, over 150 lb.                                                      | \"      | 3.1              |\n| 05 12 23.77                 | Structural Steel Projects | Castellated beams, light sections, to 50 #/L.F., simple connections      | Ton    | 4,525            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 5,300            |\n| 05 12 23.77                 | Structural Steel Projects | Heavy sections, over 50 plf, simple connections                          | nan    | 4,625            |\n| 05 12 23.77                 | Structural Steel Projects | Moment / composite connections                                           | nan    | 5,350            |\n\n**Interpretation:**\nTo determine the typical cost per square foot for structural steel options in a four-story apartment building, we need to make some assumptions. \n\nAssumptions:\n- Location: Not specified, so we'll consider general costs.\n- Year: Not specified, so we'll use the provided data as is.\n- Unit: We are looking for cost per square foot, but the data is mostly in cost per ton.\n- Scope: Four-story apartment building.\n- Loading: Average loading for an apartment building, without heavy industrial or specialized use.\n\nGiven the data, the closest match for a four-story apartment building is the \" to 6 stories\" category under \"Structural Steel Projects\" for apartments, nursing homes, etc. The cost listed is $4,700 per ton. However, to convert this to a cost per square foot, we would need to know the average weight of structural steel per square foot for such a building, which is not provided in the data.\n\nFor a rough estimate, if we consider an average weight of structural steel for a mid-rise building like a four-story apartment complex to be around - pounds per square foot (this can vary widely based on design, materials, and loading), and using the $4,700 per ton cost:\n\n- 1 ton = ,000 pounds\n- Cost per pound = $4,700 / 2,000 pounds = $2.35 per pound\n- For 50 pounds/sqft: Cost per sqft = $2.35 * 50 = $117.50 per sqft\n- For 100 pounds/sqft: Cost per sqft = $ * 100 = $235 per sqft\n\nThus, the estimated typical cost per square foot for structural steel in a four-story apartment building could range approximately from $117.50 to $235 per square foot, depending on the actual weight of the structural steel used per square foot. \n\nActual costs may vary significantly by project and location due to factors like local labor costs, material availability, and specific design requirements."}
{"asctime": "2025-05-25 16:14:25,729", "levelname": "INFO", "name": "app_logger", "message": "", "timestamp": "2025-05-25 16:14:23", "prompt": "What is the typical cost per sqft for structural steel options?  Let's assume a four-story apartment building.  Make assumptions on the loading.", "mode": "cloudflare", "text_generation_model": "@cf/meta/llama-3.3-70b-instruct-fp8-fast", "embedding_model": "@cf/baai/bge-base-en-v1.5", "rag_state": "LLM + RAG", "output": ""}
{"asctime": "2025-05-25 16:16:06,832", "levelname": "INFO", "name": "app_logger", "message": "", "timestamp": "2025-05-25 16:15:35", "prompt": "Can you provide a cost estimate for a 10,000 sq ft commercial building?", "mode": "cloudflare", "text_generation_model": "@cf/meta/llama-3.3-70b-instruct-fp8-fast", "embedding_model": "@cf/baai/bge-base-en-v1.5", "rag_state": "LLM + RAG", "output": ""}
{"asctime": "2025-05-25 16:16:31,900", "levelname": "INFO", "name": "app_logger", "message": "", "timestamp": "2025-05-25 16:16:16", "prompt": "Can you provide a cost estimate for a 10,000 sq ft commercial building?", "mode": "cloudflare", "text_generation_model": "@cf/meta/llama-3.3-70b-instruct-fp8-fast", "embedding_model": "@cf/baai/bge-base-en-v1.5", "rag_state": "LLM + RAG", "output": "Error: 500 - <!doctype html>\n<html lang=en>\n  <head>\n    <title>ValueError: too many values to unpack (expected 2)\n // Werkzeug Debugger</title>\n    <link rel=\"stylesheet\" href=\"?__debugger__=yes&amp;cmd=resource&amp;f=style.css\">\n    <link rel=\"shortcut icon\"\n        href=\"?__debugger__=yes&amp;cmd=resource&amp;f=console.png\">\n    <script src=\"?__debugger__=yes&amp;cmd=resource&amp;f=debugger.js\"></script>\n    <script>\n      var CONSOLE_MODE = false,\n          EVALEX = true,\n          EVALEX_TRUSTED = false,\n          SECRET = \"EOvxf5CoKVMmSAVpzwzx\";\n    </script>\n  </head>\n  <body style=\"background-color: #fff\">\n    <div class=\"debugger\">\n<h1>ValueError</h1>\n<div class=\"detail\">\n  <p class=\"errormsg\">ValueError: too many values to unpack (expected 2)\n</p>\n</div>\n<h2 class=\"traceback\">Traceback <em>(most recent call last)</em></h2>\n<div class=\"traceback\">\n  <h3></h3>\n  <ul><li><div class=\"frame\" id=\"frame-1251266273648\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1498</em>,\n      in <code class=\"function\">__call__</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">    </span>) -&gt; cabc.Iterable[bytes]:</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>&#34;&#34;&#34;The WSGI server calls the Flask application object as the</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>WSGI application. This calls :meth:`wsgi_app`, which can be</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>wrapped to apply middleware.</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>&#34;&#34;&#34;</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>return self.wsgi_app(environ, start_response)\n<span class=\"ws\">        </span>       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1251266275232\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1476</em>,\n      in <code class=\"function\">wsgi_app</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>ctx.push()</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>response = self.full_dispatch_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>except Exception as e:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>error = e</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>response = self.handle_exception(e)\n<span class=\"ws\">                </span>           ^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except:  # noqa: B001</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = sys.exc_info()[1]</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>raise</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>return response(environ, start_response)</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>finally:</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1251266277248\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1473</em>,\n      in <code class=\"function\">wsgi_app</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">        </span>ctx = self.request_context(environ)</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>error: BaseException | None = None</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>ctx.push()</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>response = self.full_dispatch_request()\n<span class=\"ws\">                </span>           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except Exception as e:</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = e</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>response = self.handle_exception(e)</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except:  # noqa: B001</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = sys.exc_info()[1]</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1251266277824\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">882</em>,\n      in <code class=\"function\">full_dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>rv = self.preprocess_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if rv is None:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>rv = self.dispatch_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>except Exception as e:</pre>\n<pre class=\"line current\"><span class=\"ws\">            </span>rv = self.handle_user_exception(e)\n<span class=\"ws\">            </span>     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return self.finalize_request(rv)</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def finalize_request(</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>self,</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>rv: ft.ResponseReturnValue | HTTPException,</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1251266274224\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">880</em>,\n      in <code class=\"function\">full_dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\"></span> </pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>rv = self.preprocess_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if rv is None:</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>rv = self.dispatch_request()\n<span class=\"ws\">                </span>     ^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>except Exception as e:</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>rv = self.handle_user_exception(e)</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return self.finalize_request(rv)</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def finalize_request(</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1251266277104\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">865</em>,\n      in <code class=\"function\">dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>and req.method == &#34;OPTIONS&#34;</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>):</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>return self.make_default_options_response()</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span># otherwise dispatch to the handler for that endpoint</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n<span class=\"ws\">        </span>       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def full_dispatch_request(self) -&gt; Response:</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>&#34;&#34;&#34;Dispatches the request and on top of that performs request</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>pre and postprocessing as well as HTTP exception catching and</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>error handling.</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1251266273792\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py\"</cite>,\n      line <em class=\"line\">46</em>,\n      in <code class=\"function\">llm_rag_call</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span># Optionally, yield sources at the end (as JSON or plain text)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if sources:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>yield f&#34;\\n\\n[SOURCES]: {sources}&#34;</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>return Response(generate(), mimetype=&#39;text/plain&#39;)</pre>\n<pre class=\"line before\"><span class=\"ws\">    </span>else:</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n<span class=\"ws\">        </span>^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return jsonify({&#39;response&#39;: answer, &#39;sources&#39;: sources})</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\"></span>@app.route(&#39;/set_mode&#39;, methods=[&#39;POST&#39;])</pre>\n<pre class=\"line after\"><span class=\"ws\"></span>def set_mode():</pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>data = request.get_json()</pre></div>\n</div>\n</ul>\n  <blockquote>ValueError: too many values to unpack (expected 2)\n</blockquote>\n</div>\n\n<div class=\"plain\">\n    <p>\n      This is the Copy/Paste friendly version of the traceback.\n    </p>\n    <textarea cols=\"50\" rows=\"10\" name=\"code\" readonly>Traceback (most recent call last):\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1498, in __call__\n    return self.wsgi_app(environ, start_response)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1476, in wsgi_app\n    response = self.handle_exception(e)\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1473, in wsgi_app\n    response = self.full_dispatch_request()\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 882, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 880, in full_dispatch_request\n    rv = self.dispatch_request()\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 865, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File &#34;C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py&#34;, line 46, in llm_rag_call\n    answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n    ^^^^^^^^^^^^^^^\nValueError: too many values to unpack (expected 2)\n</textarea>\n</div>\n<div class=\"explanation\">\n  The debugger caught an exception in your WSGI application.  You can now\n  look at the traceback which led to the error.  <span class=\"nojavascript\">\n  If you enable JavaScript you can also use additional features such as code\n  execution (if the evalex feature is enabled), automatic pasting of the\n  exceptions and much more.</span>\n</div>\n      <div class=\"footer\">\n        Brought to you by <strong class=\"arthur\">DON'T PANIC</strong>, your\n        friendly Werkzeug powered traceback interpreter.\n      </div>\n    </div>\n\n    <div class=\"pin-prompt\">\n      <div class=\"inner\">\n        <h3>Console Locked</h3>\n        <p>\n          The console is locked and needs to be unlocked by entering the PIN.\n          You can find the PIN printed out on the standard output of your\n          shell that runs the server.\n        <form>\n          <p>PIN:\n            <input type=text name=pin size=14>\n            <input type=submit name=btn value=\"Confirm Pin\">\n        </form>\n      </div>\n    </div>\n  </body>\n</html>\n\n<!--\n\nTraceback (most recent call last):\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1498, in __call__\n    return self.wsgi_app(environ, start_response)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1476, in wsgi_app\n    response = self.handle_exception(e)\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1473, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 882, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 880, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 865, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py\", line 46, in llm_rag_call\n    answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n    ^^^^^^^^^^^^^^^\nValueError: too many values to unpack (expected 2)\n\n\n-->\n"}
{"asctime": "2025-05-25 16:23:09,641", "levelname": "INFO", "name": "app_logger", "message": "", "timestamp": "2025-05-25 16:23:07", "prompt": "Can you provide a cost estimate for a 10,000 sq ft commercial building?", "mode": "cloudflare", "text_generation_model": "@cf/meta/llama-3.3-70b-instruct-fp8-fast", "embedding_model": "@cf/baai/bge-base-en-v1.5", "rag_state": "LLM + RAG", "output": "Exception: HTTPConnectionPool(host='127.0.0.1', port=5000): Max retries exceeded with url: /llm_rag_call (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000012C5C3156A0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
{"asctime": "2025-05-25 16:23:59,282", "levelname": "INFO", "name": "app_logger", "message": "", "timestamp": "2025-05-25 16:23:45", "prompt": "What are the ROI advantages of using precast concrete in construction projects?", "mode": "cloudflare", "text_generation_model": "@cf/meta/llama-3.3-70b-instruct-fp8-fast", "embedding_model": "@cf/baai/bge-base-en-v1.5", "rag_state": "LLM + RAG", "output": "Error: 500 - <!doctype html>\n<html lang=en>\n  <head>\n    <title>ValueError: too many values to unpack (expected 2)\n // Werkzeug Debugger</title>\n    <link rel=\"stylesheet\" href=\"?__debugger__=yes&amp;cmd=resource&amp;f=style.css\">\n    <link rel=\"shortcut icon\"\n        href=\"?__debugger__=yes&amp;cmd=resource&amp;f=console.png\">\n    <script src=\"?__debugger__=yes&amp;cmd=resource&amp;f=debugger.js\"></script>\n    <script>\n      var CONSOLE_MODE = false,\n          EVALEX = true,\n          EVALEX_TRUSTED = false,\n          SECRET = \"14SvccoFriJMoQiwPN4p\";\n    </script>\n  </head>\n  <body style=\"background-color: #fff\">\n    <div class=\"debugger\">\n<h1>ValueError</h1>\n<div class=\"detail\">\n  <p class=\"errormsg\">ValueError: too many values to unpack (expected 2)\n</p>\n</div>\n<h2 class=\"traceback\">Traceback <em>(most recent call last)</em></h2>\n<div class=\"traceback\">\n  <h3></h3>\n  <ul><li><div class=\"frame\" id=\"frame-2084710593824\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1498</em>,\n      in <code class=\"function\">__call__</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">    </span>) -&gt; cabc.Iterable[bytes]:</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>&#34;&#34;&#34;The WSGI server calls the Flask application object as the</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>WSGI application. This calls :meth:`wsgi_app`, which can be</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>wrapped to apply middleware.</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>&#34;&#34;&#34;</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>return self.wsgi_app(environ, start_response)\n<span class=\"ws\">        </span>       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-2084710592672\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1476</em>,\n      in <code class=\"function\">wsgi_app</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>ctx.push()</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>response = self.full_dispatch_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>except Exception as e:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>error = e</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>response = self.handle_exception(e)\n<span class=\"ws\">                </span>           ^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except:  # noqa: B001</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = sys.exc_info()[1]</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>raise</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>return response(environ, start_response)</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>finally:</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-2084710588064\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1473</em>,\n      in <code class=\"function\">wsgi_app</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">        </span>ctx = self.request_context(environ)</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>error: BaseException | None = None</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>ctx.push()</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>response = self.full_dispatch_request()\n<span class=\"ws\">                </span>           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except Exception as e:</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = e</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>response = self.handle_exception(e)</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except:  # noqa: B001</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = sys.exc_info()[1]</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-2084710593248\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">882</em>,\n      in <code class=\"function\">full_dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>rv = self.preprocess_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if rv is None:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>rv = self.dispatch_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>except Exception as e:</pre>\n<pre class=\"line current\"><span class=\"ws\">            </span>rv = self.handle_user_exception(e)\n<span class=\"ws\">            </span>     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return self.finalize_request(rv)</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def finalize_request(</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>self,</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>rv: ft.ResponseReturnValue | HTTPException,</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-2084710592816\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">880</em>,\n      in <code class=\"function\">full_dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\"></span> </pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>rv = self.preprocess_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if rv is None:</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>rv = self.dispatch_request()\n<span class=\"ws\">                </span>     ^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>except Exception as e:</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>rv = self.handle_user_exception(e)</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return self.finalize_request(rv)</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def finalize_request(</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-2084710586192\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">865</em>,\n      in <code class=\"function\">dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>and req.method == &#34;OPTIONS&#34;</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>):</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>return self.make_default_options_response()</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span># otherwise dispatch to the handler for that endpoint</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n<span class=\"ws\">        </span>       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def full_dispatch_request(self) -&gt; Response:</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>&#34;&#34;&#34;Dispatches the request and on top of that performs request</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>pre and postprocessing as well as HTTP exception catching and</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>error handling.</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-2084710594688\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py\"</cite>,\n      line <em class=\"line\">46</em>,\n      in <code class=\"function\">llm_rag_call</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span># Optionally, yield sources at the end (as JSON or plain text)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if sources:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>yield f&#34;\\n\\n[SOURCES]: {sources}&#34;</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>return Response(generate(), mimetype=&#39;text/plain&#39;)</pre>\n<pre class=\"line before\"><span class=\"ws\">    </span>else:</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n<span class=\"ws\">        </span>                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return jsonify({&#39;response&#39;: answer, &#39;sources&#39;: sources})</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\"></span>@app.route(&#39;/set_mode&#39;, methods=[&#39;POST&#39;])</pre>\n<pre class=\"line after\"><span class=\"ws\"></span>def set_mode():</pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>data = request.get_json()</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-2084710587488\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\llm_calls.py\"</cite>,\n      line <em class=\"line\">375</em>,\n      in <code class=\"function\">route_query_to_function</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>prompt = agent_prompt_dict[&#34;analyze project data inputs&#34;]</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>case _:</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>return &#34;I&#39;m sorry, I cannot process this request. Please ask a question related to cost, ROI, or project data.&#34;</pre>\n<pre class=\"line before\"><span class=\"ws\"></span> </pre>\n<pre class=\"line before\"><span class=\"ws\">    </span>if use_rag:</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>(answer, source) = rag_utils.rag_call_alt(message, collection, ranker, agent_prompt=prompt)\n<span class=\"ws\">        </span>^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return (answer, source)</pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>else:</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>if not stream:</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>return run_llm_query(system_prompt=prompt, user_input=message)</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>else:</pre></div>\n</div>\n</ul>\n  <blockquote>ValueError: too many values to unpack (expected 2)\n</blockquote>\n</div>\n\n<div class=\"plain\">\n    <p>\n      This is the Copy/Paste friendly version of the traceback.\n    </p>\n    <textarea cols=\"50\" rows=\"10\" name=\"code\" readonly>Traceback (most recent call last):\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1498, in __call__\n    return self.wsgi_app(environ, start_response)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1476, in wsgi_app\n    response = self.handle_exception(e)\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1473, in wsgi_app\n    response = self.full_dispatch_request()\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 882, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 880, in full_dispatch_request\n    rv = self.dispatch_request()\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 865, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File &#34;C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py&#34;, line 46, in llm_rag_call\n    answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &#34;C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\llm_calls.py&#34;, line 375, in route_query_to_function\n    (answer, source) = rag_utils.rag_call_alt(message, collection, ranker, agent_prompt=prompt)\n    ^^^^^^^^^^^^^^^^\nValueError: too many values to unpack (expected 2)\n</textarea>\n</div>\n<div class=\"explanation\">\n  The debugger caught an exception in your WSGI application.  You can now\n  look at the traceback which led to the error.  <span class=\"nojavascript\">\n  If you enable JavaScript you can also use additional features such as code\n  execution (if the evalex feature is enabled), automatic pasting of the\n  exceptions and much more.</span>\n</div>\n      <div class=\"footer\">\n        Brought to you by <strong class=\"arthur\">DON'T PANIC</strong>, your\n        friendly Werkzeug powered traceback interpreter.\n      </div>\n    </div>\n\n    <div class=\"pin-prompt\">\n      <div class=\"inner\">\n        <h3>Console Locked</h3>\n        <p>\n          The console is locked and needs to be unlocked by entering the PIN.\n          You can find the PIN printed out on the standard output of your\n          shell that runs the server.\n        <form>\n          <p>PIN:\n            <input type=text name=pin size=14>\n            <input type=submit name=btn value=\"Confirm Pin\">\n        </form>\n      </div>\n    </div>\n  </body>\n</html>\n\n<!--\n\nTraceback (most recent call last):\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1498, in __call__\n    return self.wsgi_app(environ, start_response)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1476, in wsgi_app\n    response = self.handle_exception(e)\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1473, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 882, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 880, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 865, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py\", line 46, in llm_rag_call\n    answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\llm_calls.py\", line 375, in route_query_to_function\n    (answer, source) = rag_utils.rag_call_alt(message, collection, ranker, agent_prompt=prompt)\n    ^^^^^^^^^^^^^^^^\nValueError: too many values to unpack (expected 2)\n\n\n-->\n"}
{"asctime": "2025-05-25 19:56:53,638", "levelname": "INFO", "name": "app_logger", "message": "", "timestamp": "2025-05-25 19:56:42", "prompt": "What is the typical cost per sqft for structural steel options?  Let's assume a four-story apartment building.  Make assumptions on the loading.", "mode": "cloudflare", "text_generation_model": "@cf/meta/llama-3.3-70b-instruct-fp8-fast", "embedding_model": "@cf/baai/bge-base-en-v1.5", "rag_state": "LLM + RAG", "output": "Error: 500 - <!doctype html>\n<html lang=en>\n  <head>\n    <title>ValueError: too many values to unpack (expected 2)\n // Werkzeug Debugger</title>\n    <link rel=\"stylesheet\" href=\"?__debugger__=yes&amp;cmd=resource&amp;f=style.css\">\n    <link rel=\"shortcut icon\"\n        href=\"?__debugger__=yes&amp;cmd=resource&amp;f=console.png\">\n    <script src=\"?__debugger__=yes&amp;cmd=resource&amp;f=debugger.js\"></script>\n    <script>\n      var CONSOLE_MODE = false,\n          EVALEX = true,\n          EVALEX_TRUSTED = false,\n          SECRET = \"8H63O7CVnRtE8FGhsFl6\";\n    </script>\n  </head>\n  <body style=\"background-color: #fff\">\n    <div class=\"debugger\">\n<h1>ValueError</h1>\n<div class=\"detail\">\n  <p class=\"errormsg\">ValueError: too many values to unpack (expected 2)\n</p>\n</div>\n<h2 class=\"traceback\">Traceback <em>(most recent call last)</em></h2>\n<div class=\"traceback\">\n  <h3></h3>\n  <ul><li><div class=\"frame\" id=\"frame-1351906305232\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1498</em>,\n      in <code class=\"function\">__call__</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">    </span>) -&gt; cabc.Iterable[bytes]:</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>&#34;&#34;&#34;The WSGI server calls the Flask application object as the</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>WSGI application. This calls :meth:`wsgi_app`, which can be</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>wrapped to apply middleware.</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>&#34;&#34;&#34;</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>return self.wsgi_app(environ, start_response)\n<span class=\"ws\">        </span>       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1351906303792\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1476</em>,\n      in <code class=\"function\">wsgi_app</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>ctx.push()</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>response = self.full_dispatch_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>except Exception as e:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>error = e</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>response = self.handle_exception(e)\n<span class=\"ws\">                </span>           ^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except:  # noqa: B001</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = sys.exc_info()[1]</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>raise</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>return response(environ, start_response)</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>finally:</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1351906299328\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">1473</em>,\n      in <code class=\"function\">wsgi_app</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">        </span>ctx = self.request_context(environ)</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>error: BaseException | None = None</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>ctx.push()</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>response = self.full_dispatch_request()\n<span class=\"ws\">                </span>           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except Exception as e:</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = e</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>response = self.handle_exception(e)</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>except:  # noqa: B001</pre>\n<pre class=\"line after\"><span class=\"ws\">                </span>error = sys.exc_info()[1]</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1351906308256\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">882</em>,\n      in <code class=\"function\">full_dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>rv = self.preprocess_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if rv is None:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>rv = self.dispatch_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>except Exception as e:</pre>\n<pre class=\"line current\"><span class=\"ws\">            </span>rv = self.handle_user_exception(e)\n<span class=\"ws\">            </span>     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return self.finalize_request(rv)</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def finalize_request(</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>self,</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>rv: ft.ResponseReturnValue | HTTPException,</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1351906310272\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">880</em>,\n      in <code class=\"function\">full_dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\"></span> </pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>try:</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>rv = self.preprocess_request()</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if rv is None:</pre>\n<pre class=\"line current\"><span class=\"ws\">                </span>rv = self.dispatch_request()\n<span class=\"ws\">                </span>     ^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>except Exception as e:</pre>\n<pre class=\"line after\"><span class=\"ws\">            </span>rv = self.handle_user_exception(e)</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return self.finalize_request(rv)</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def finalize_request(</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1351906307824\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\"</cite>,\n      line <em class=\"line\">865</em>,\n      in <code class=\"function\">dispatch_request</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span>and req.method == &#34;OPTIONS&#34;</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>):</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>return self.make_default_options_response()</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span># otherwise dispatch to the handler for that endpoint</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n<span class=\"ws\">        </span>       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>def full_dispatch_request(self) -&gt; Response:</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>&#34;&#34;&#34;Dispatches the request and on top of that performs request</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>pre and postprocessing as well as HTTP exception catching and</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>error handling.</pre></div>\n</div>\n\n<li><div class=\"frame\" id=\"frame-1351906307536\">\n  <h4>File <cite class=\"filename\">\"C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py\"</cite>,\n      line <em class=\"line\">46</em>,\n      in <code class=\"function\">llm_rag_call</code></h4>\n  <div class=\"source \"><pre class=\"line before\"><span class=\"ws\">            </span># Optionally, yield sources at the end (as JSON or plain text)</pre>\n<pre class=\"line before\"><span class=\"ws\">            </span>if sources:</pre>\n<pre class=\"line before\"><span class=\"ws\">                </span>yield f&#34;\\n\\n[SOURCES]: {sources}&#34;</pre>\n<pre class=\"line before\"><span class=\"ws\">        </span>return Response(generate(), mimetype=&#39;text/plain&#39;)</pre>\n<pre class=\"line before\"><span class=\"ws\">    </span>else:</pre>\n<pre class=\"line current\"><span class=\"ws\">        </span>answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n<span class=\"ws\">        </span>^^^^^^^^^^^^^^^</pre>\n<pre class=\"line after\"><span class=\"ws\">        </span>return jsonify({&#39;response&#39;: answer, &#39;sources&#39;: sources})</pre>\n<pre class=\"line after\"><span class=\"ws\"></span> </pre>\n<pre class=\"line after\"><span class=\"ws\"></span>@app.route(&#39;/set_mode&#39;, methods=[&#39;POST&#39;])</pre>\n<pre class=\"line after\"><span class=\"ws\"></span>def set_mode():</pre>\n<pre class=\"line after\"><span class=\"ws\">    </span>data = request.get_json()</pre></div>\n</div>\n</ul>\n  <blockquote>ValueError: too many values to unpack (expected 2)\n</blockquote>\n</div>\n\n<div class=\"plain\">\n    <p>\n      This is the Copy/Paste friendly version of the traceback.\n    </p>\n    <textarea cols=\"50\" rows=\"10\" name=\"code\" readonly>Traceback (most recent call last):\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1498, in __call__\n    return self.wsgi_app(environ, start_response)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1476, in wsgi_app\n    response = self.handle_exception(e)\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 1473, in wsgi_app\n    response = self.full_dispatch_request()\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 882, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 880, in full_dispatch_request\n    rv = self.dispatch_request()\n  File &#34;C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py&#34;, line 865, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File &#34;C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py&#34;, line 46, in llm_rag_call\n    answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n    ^^^^^^^^^^^^^^^\nValueError: too many values to unpack (expected 2)\n</textarea>\n</div>\n<div class=\"explanation\">\n  The debugger caught an exception in your WSGI application.  You can now\n  look at the traceback which led to the error.  <span class=\"nojavascript\">\n  If you enable JavaScript you can also use additional features such as code\n  execution (if the evalex feature is enabled), automatic pasting of the\n  exceptions and much more.</span>\n</div>\n      <div class=\"footer\">\n        Brought to you by <strong class=\"arthur\">DON'T PANIC</strong>, your\n        friendly Werkzeug powered traceback interpreter.\n      </div>\n    </div>\n\n    <div class=\"pin-prompt\">\n      <div class=\"inner\">\n        <h3>Console Locked</h3>\n        <p>\n          The console is locked and needs to be unlocked by entering the PIN.\n          You can find the PIN printed out on the standard output of your\n          shell that runs the server.\n        <form>\n          <p>PIN:\n            <input type=text name=pin size=14>\n            <input type=submit name=btn value=\"Confirm Pin\">\n        </form>\n      </div>\n    </div>\n  </body>\n</html>\n\n<!--\n\nTraceback (most recent call last):\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1498, in __call__\n    return self.wsgi_app(environ, start_response)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1476, in wsgi_app\n    response = self.handle_exception(e)\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 1473, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 882, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 880, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"C:\\Users\\scleb\\AppData\\Roaming\\Python\\Python313\\site-packages\\flask\\app.py\", line 865, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\scleb\\Documents\\bimsc25\\GitHub\\aia25-studio-agent-group4\\gh_server.py\", line 46, in llm_rag_call\n    answer, sources = llm_calls.route_query_to_function(input_string, collection, ranker, True)\n    ^^^^^^^^^^^^^^^\nValueError: too many values to unpack (expected 2)\n\n\n-->\n"}
{"asctime": "2025-05-25 20:02:15,093", "levelname": "INFO", "name": "app_logger", "message": "", "timestamp": "2025-05-25 20:01:55", "prompt": "What is the typical cost per sqft for structural steel options?  Let's assume a four-story apartment building.  Make assumptions on the loading.", "mode": "cloudflare", "text_generation_model": "@cf/meta/llama-3.3-70b-instruct-fp8-fast", "embedding_model": "@cf/baai/bge-base-en-v1.5", "rag_state": "LLM + RAG", "output": "The typical cost per sqft for structural steel options can vary depending on several factors, including the type of steel, the complexity of the design, and the location of the project. However, based on industry estimates, the cost of structural steel for a four-story apartment building can range from $15 to $30 per sqft [Source: Len Holm, John E. Schaufelberger - Construction Cost Estimating-Routledge (2021).pdf, Page: 166].\n\nAssuming a moderate loading condition, with a total floor area of approximately 40,000 sqft (10,000 sqft per floor), and using a steel frame with columns, beams, and girders, the total cost of structural steel can be estimated as follows:\n\n* Structural steel quantity take-off sheet (Figure 8.1) shows a total weight of 1,036,942 pounds of steel [Source: Len Holm, John E. Schaufelberger - Construction Cost Estimating-Routledge (2021).pdf, Page: 337].\n* Assuming an average cost of $2.50 per pound of steel (based on the install structural steel and metal deck cost of $2.7 million [Source: Len Holm, John E."}
